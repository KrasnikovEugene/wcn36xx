From 561325d8848a67d3676e523af4f73904b03d5795 Mon Sep 17 00:00:00 2001
From: Eugene Krasnikov <k.eugene.e@gmail.com>
Date: Tue, 9 Apr 2013 18:09:30 +0200
Subject: [PATCH 2/3] Use ieee80211_probereq_get from latest mac80211

Latest mac80211 changed ieee80211_probereq_get function format

Signed-off-by: Eugene Krasnikov <k.eugene.e@gmail.com>
---
 main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/main.c b/main.c
index 6cc7550..ff2d1d6 100644
--- a/main.c
+++ b/main.c
@@ -158,9 +158,9 @@ static int wcn36xx_hw_scan(struct ieee80211_hw *hw,
 	wcn36xx_smd_update_scan_params(wcn);
 	wcn36xx_smd_exit_imps(wcn);
 	if (req->n_ssids > 0) {
-		prb_req = ieee80211_probereq_get(hw, vif, req->ssids[0].ssid, req->ssids[0].ssid_len, req->ie, req->ie_len);
+		prb_req = ieee80211_probereq_get(hw, vif, req->ssids[0].ssid, req->ssids[0].ssid_len, req->ie_len);
 	} else {
-		prb_req = ieee80211_probereq_get(hw, vif, NULL, 0, req->ie, req->ie_len);
+		prb_req = ieee80211_probereq_get(hw, vif, NULL, 0, req->ie_len);
 	}
 	for(i = 0; i < req->n_channels; i++) {
 		wcn36xx_smd_init_scan(wcn);
-- 
1.7.10

